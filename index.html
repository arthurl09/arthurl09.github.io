<!DOCTYPE html>
<html>
<head>
    <title>刘致远的个人网站</title>
</head>
<body>
    <h1>ChatGPT</h1>
    <div id="chat-container"></div>
    <form id="message-form" action="/chat" method="POST">
        <input type="text" name="message" placeholder="Message">
        <button type="submit">发送</button>
    </form>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
        $(document).ready(function(){
            $('#message-form').submit(function(e) {
                e.preventDefault();
                var messageInput = $('#message-form input[name=message]');
                var message = messageInput.val();

                // 向后端发送聊天请求
                $.ajax({
                    url: '/chat',
                    method: 'POST',
                    data: $(this).serialize(),
                    success: function(reply) {
                        // 将回复添加到聊天容器中
                        $('#chat-container').append('<p><h2><font color="green"><strong>You:</strong> ' + message + '</font></h2></p>');
                        $('#chat-container').append('<p><h2><font color="blue"><strong>Chatbot:</strong> ' + reply + '</font></h2></p>');
                        // 清空输入框            });
                    }
                })
            })
        });
    </script>
</body>
</html>